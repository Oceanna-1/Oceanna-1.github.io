<!DOCTYPE html>
<html lang="en">
<!-- This program displays a message to the browser every 1/2 second -->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timers</title>
</head>

<body>
    <div class="container">
        <h1>SetInterval Example</h1>
        <div id="message">&nbsp;</div>
        <div id="output">&nbsp;</div>
        <button id="startButton">Start Timer</button> &nbsp;&nbsp;
        <button id="stopButton">Stop Timer</button> &nbsp;&nbsp;
        Id: <input type="text" name="id" id="id">
    </div>
    <script>
        let x = 0;
        let timerId;

        function sayHello() {
            let node = document.getElementById("message");
            node.innerHTML = "Hello world " + x.toString() + "<br>";
            x++;
        }

        let out = document.getElementById("output");
        let startButton = document.getElementById("startButton");
        let stopButton = document.getElementById("stopButton");
        let idInput = document.getElementById("id");

        startButton.addEventListener('click', startTimer);
        stopButton.addEventListener('click', stopTimer);

        function startTimer() {
            timerId = setInterval(sayHello, 500);  // will start a timer
            out.innerText = `Timer Id: ${timerId} started`;
            idInput.value = timerId; // set the input value to the timerId
        }

        function stopTimer() {
            let whichId = parseInt(idInput.value, 10); // get the value and parse it as an integer
            if (!isNaN(whichId)) {
                clearInterval(whichId);
                out.innerText = `Timer Id: ${whichId} stopped`;
            } else {
                out.innerText = 'Invalid Timer Id';
            }
        }
    </script>
</body>

</html>